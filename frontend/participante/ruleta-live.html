<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ruleta en vivo ‚Äî Siempre Ganas</title>

  <link rel="stylesheet" href="../assets/css/common.css">
  <link rel="stylesheet" href="../assets/css/ruleta-live.css">
  <link rel="stylesheet" href="../assets/js/chat/chat.css">
</head>

<body>
  <main class="wrap">
    <header class="top">
    <div>
        <h1 class="title">Ruleta en vivo</h1>
        <p id="subtitle" class="muted">Conectando‚Ä¶</p>
    </div>

    <div class="top-actions">
        <button id="btnBack" class="btnBack" type="button" aria-label="Volver">
        <span class="btn-ico">‚Üê</span>
        <span class="btn-label">Volver</span>
        </button>
        <div id="badgeEstado" class="badge">‚Äî</div>
    </div>
    </header>


    <!-- Countdown -->
    <section class="card" id="countdownCard">
      <div class="countdownRow">
        <div>
          <div class="label">FALTAN</div>
          <div id="countdown" class="countdown">--:--</div>
        </div>

        <div class="progress" aria-label="Progreso hacia la ruleta">
          <div id="progressBar" class="progressBar"></div>
        </div>
      </div>

      <p class="muted small" id="countdownHint">‚Äî</p>
    </section>

    <!-- Wheel -->
    <section class="card wheelCard">
      <div class="wheelWrap">
        <div class="pointer" aria-hidden="true"></div>
        <canvas id="wheel" width="520" height="520" aria-label="Ruleta"></canvas>
      </div>

      <div id="result" class="result hidden" aria-live="polite"></div>
    </section>

    <!-- N√∫meros en juego -->
    <section class="card numbersCard">
      <div class="salaHeader">
        <div>
          <h2 class="salaTitle">N√∫meros en juego</h2>
          <p class="muted small">Lista de n√∫meros participantes en este sorteo</p>
        </div>
        <span id="numbersCount" class="salaBadge">0</span>
      </div>

      <div id="numbersList" class="numbersList" aria-live="polite"></div>
    </section>

    <!-- Sala / Mensajes del sistema -->
    <section class="card salaCard">
      <div class="salaHeader">
        <div>
          <h2 class="salaTitle">Sala del evento</h2>
          <p class="muted small">Mensajes oficiales en vivo</p>
        </div>
        <span class="salaBadge">Sistema</span>
      </div>

      <div id="systemFeed" class="systemFeed" role="log" aria-live="polite"></div>
    </section>

    <!-- Chat en vivo -->
    <section class="card chatCard">
      <div class="salaHeader">
        <div>
          <h2 class="salaTitle">Chat en vivo</h2>
          <p class="muted small">Habla con los participantes mientras gira la ruleta</p>
        </div>
        <span class="salaBadge">Participantes</span>
      </div>

      <div id="chatContainer">
        <button id="chatNewBtn" class="chat-new-btn hidden" type="button">Nuevos mensajes ‚Üì</button>
        <div id="chatBody" class="chat-messages"></div>
        <div class="chat-input-wrap">
          <input id="chatInput" type="text" maxlength="120" placeholder="Escribe aqu√≠..." />
          <button id="chatSend" type="button">
            <span class="btn-ico">‚û§</span>
            <span class="btn-label">Enviar</span>
          </button>
        </div>
        <p id="chatHint" class="chat-hint"></p>
      </div>
    </section>

    <!-- Overlay 3-2-1 -->
    <div id="overlay" class="overlay hidden" aria-hidden="true">
      <div id="overlayNum" class="overlayNum">3</div>
    </div>
  </main>

  <script src="../assets/js/config.js"></script>
  <script type="module" src="../assets/js/participante/ruleta-live-chat.js"></script>
  <script src="../assets/js/participante/ruleta-live.js"></script>
    <!-- üîä Sonido ganador -->
  <audio id="audioWin" src="../assets/sound/sonidoWin.mp3" preload="auto"></audio>

</body>
</html>
