<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Siempre Gana â€” Panel Admin</title>

  <!-- SOLO los CSS nuevos del sistema -->
  <link rel="stylesheet" href="../assets/css/common.css">
  <link rel="stylesheet" href="../assets/css/admin.css">
</head>
<body class="admin-body">
  <div class="admin-wrapper">

    <!-- HEADER ADMIN -->
    <header class="admin-header">
      <div class="admin-header-left">
        <h1>Panel de AdministraciÃ³n</h1>
        <span class="admin-subtitle">
          Control total de sorteos, comprobantes y ruletas en un solo lugar.
        </span>

        <!-- Cinta de estado / confianza -->
        <div class="admin-status-pill">
          <span class="dot"></span>
          <span>Sistema en lÃ­nea Â· Validaciones manuales para mÃ¡xima transparencia</span>
        </div>
      </div>
      <div class="admin-header-right">
        <button
          type="button"
          class="btn btn-secondary"
          onclick="location.href='crear-sorteo.html'">
          â• Crear sorteo
        </button>
        <button
          type="button"
          class="btn btn-danger"
          onclick="logout()">
          Salir
        </button>
      </div>
    </header>

    <!-- CONTENIDO PRINCIPAL -->
    <main class="admin-main">

      <!-- ğŸ“‘ COMPROBANTES PENDIENTES -->
      <section class="card">
        <div class="card-title-row">
          <div>
            <h2>ğŸ“‘ Comprobantes pendientes</h2>
            <p class="text-muted">
              Cada comprobante aprobado libera nÃºmeros reales para los participantes.
              Revisa monto, fecha y referencia antes de aceptar.
            </p>
          </div>
          <div class="card-title-right text-muted mini-hint">
            Tip: una bandeja â€œen ceroâ€ antes de girar ruletas transmite seriedad.
          </div>
        </div>

        <!-- El JS admin/index.js llena este contenedor -->
        <div id="comprobantes" class="table-wrapper">
          <!-- AquÃ­ se inyectan las tarjetas o filas de comprobantes -->
        </div>
      </section>

      <!-- ğŸ¯ SORTEOS ACTIVOS -->
      <section class="card" style="margin-top:18px;">
        <div class="card-title-row">
          <div>
            <h2>ğŸ¯ Sorteos activos</h2>
            <p class="text-muted">
              Observa el avance de cada sorteo, llena cupos y pasa a la ruleta cuando
              todo estÃ© validado.
            </p>
          </div>
          <div class="card-title-right text-muted mini-hint">
            Recomendado: anuncia con tiempo quÃ© sorteo serÃ¡ el prÃ³ximo en pasar a ruleta.
          </div>
        </div>

        <!-- El JS admin/index.js usa este contenedor -->
        <div id="sorteosAdmin" class="table-wrapper">
          <!-- AquÃ­ se listan los sorteos (cards o tabla) -->
        </div>
      </section>

      <!-- ğŸ“ˆ GRÃFICAS -->
      <section class="card" style="margin-top:18px;">
        <div class="card-title-row">
          <div>
            <h2>ğŸ“ˆ Visualizaciones</h2>
            <p class="text-muted">
              Ve el comportamiento de sorteos y comprobantes en el tiempo para tomar
              mejores decisiones: quÃ© sorteo repetir, quÃ© dÃ­as hay mÃ¡s movimiento, etc.
            </p>
          </div>
        </div>

        <div class="charts-grid">
          <div class="card" style="background:transparent; box-shadow:none; border:none; padding:0;">
            <canvas id="chartSorteos"></canvas>
          </div>
          <div class="card" style="background:transparent; box-shadow:none; border:none; padding:0;">
            <canvas id="chartComprobantes"></canvas>
          </div>
        </div>
      </section>

      <!-- ğŸ“Š ESTADÃSTICAS RÃPIDAS -->
      <section class="card" style="margin-top:18px;">
        <div class="card-title-row">
          <div>
            <h2>ğŸ“Š EstadÃ­sticas rÃ¡pidas</h2>
            <p class="text-muted">
              Un vistazo general al estado de la plataforma. Ãšsalo para abrir
              transmisiones mostrando cÃ³mo crece la comunidad.
            </p>
          </div>
        </div>

        <div class="stats-grid">
          <div class="stat-card gold">
            <h3>Usuarios</h3>
            <p id="statUsuarios">â€”</p>
            <span class="stat-hint">Personas registradas en Siempre Gana</span>
          </div>
          <div class="stat-card ruby">
            <h3>Sorteos activos</h3>
            <p id="statSorteos">â€”</p>
            <span class="stat-hint">Sorteos listos para seguir vendiendo nÃºmeros</span>
          </div>
          <div class="stat-card obsidian">
            <h3>Comprobantes pendientes</h3>
            <p id="statPendientes">â€”</p>
            <span class="stat-hint">Pagos por validar antes de pasar a ruleta</span>
          </div>
        </div>
      </section>

    </main>
  </div>

  <!-- Toast de feedback -->
  <div id="toast" class="toast hidden">AcciÃ³n realizada</div>

  <!-- Scripts existentes (NO tocar) -->
  <script src="../assets/js/config.js"></script>
  <script src="../assets/js/auth.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="../assets/js/admin/index.js"></script>
</body>
</html>
