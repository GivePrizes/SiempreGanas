<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Siempre Gana â€” Panel Admin</title>

  <!-- SOLO los CSS nuevos del sistema -->
  <link rel="stylesheet" href="../assets/css/common.css">
  <link rel="stylesheet" href="../assets/css/admin.css">
</head>
<body class="admin-body">
  <div class="admin-wrapper">

    <!-- HEADER ADMIN -->
    <header class="admin-header">
      <div class="admin-header-left">
        <h1>Panel de AdministraciÃ³n</h1>
        <span class="admin-subtitle">Control de sorteos y comprobantes</span>
      </div>
      <div class="admin-header-right">
        <button
          type="button"
          class="btn btn-secondary"
          onclick="location.href='crear-sorteo.html'">
          âž• Crear sorteo
        </button>
        <button
          type="button"
          class="btn btn-danger"
          onclick="logout()">
          Salir
        </button>
      </div>
    </header>

    <!-- CONTENIDO PRINCIPAL -->
    <main class="admin-main">

      <!-- ðŸ“‘ COMPROBANTES PENDIENTES -->
      <section class="card">
        <div class="card-title-row">
          <div>
            <h2>ðŸ“‘ Comprobantes pendientes</h2>
            <p class="text-muted">
              Revisa y aprueba pagos de participantes antes de liberar sus nÃºmeros.
            </p>
          </div>
        </div>

        <!-- El JS admin/index.js llena este contenedor -->
        <div id="comprobantes" class="table-wrapper">
          <!-- AquÃ­ se inyectan las tarjetas o filas de comprobantes -->
        </div>
      </section>

      <!-- ðŸŽ¯ SORTEOS ACTIVOS -->
      <section class="card" style="margin-top:18px;">
        <div class="card-title-row">
          <div>
            <h2>ðŸŽ¯ Sorteos activos</h2>
            <p class="text-muted">
              Gestiona los sorteos que estÃ¡n en curso y accede a la ruleta.
            </p>
          </div>
        </div>

        <!-- El JS admin/index.js usa este contenedor -->
        <div id="sorteosAdmin" class="table-wrapper">
          <!-- AquÃ­ se listan los sorteos (cards o tabla) -->
        </div>
      </section>

      <!-- ðŸ“ˆ GRÃFICAS -->
      <section class="card" style="margin-top:18px;">
        <div class="card-title-row">
          <div>
            <h2>ðŸ“ˆ Visualizaciones</h2>
            <p class="text-muted">
              Comportamiento de sorteos y comprobantes en el tiempo.
            </p>
          </div>
        </div>

        <div class="charts-grid">
          <div class="card" style="background:transparent; box-shadow:none; border:none; padding:0;">
            <canvas id="chartSorteos"></canvas>
          </div>
          <div class="card" style="background:transparent; box-shadow:none; border:none; padding:0;">
            <canvas id="chartComprobantes"></canvas>
          </div>
        </div>
      </section>

      <!-- ðŸ“Š ESTADÃSTICAS RÃPIDAS -->
      <section class="card" style="margin-top:18px;">
        <div class="card-title-row">
          <div>
            <h2>ðŸ“Š EstadÃ­sticas rÃ¡pidas</h2>
            <p class="text-muted">
              Resumen de usuarios, sorteos activos y comprobantes pendientes.
            </p>
          </div>
        </div>

        <div class="stats-grid">
          <div class="stat-card gold">
            <h3>Usuarios</h3>
            <p id="statUsuarios">â€”</p>
          </div>
          <div class="stat-card ruby">
            <h3>Sorteos activos</h3>
            <p id="statSorteos">â€”</p>
          </div>
          <div class="stat-card obsidian">
            <h3>Comprobantes pendientes</h3>
            <p id="statPendientes">â€”</p>
          </div>
        </div>
      </section>

    </main>
  </div>

  <!-- Toast de feedback -->
  <div id="toast" class="toast hidden">AcciÃ³n realizada</div>

  <!-- Scripts existentes (NO tocar) -->
  <script src="../assets/js/config.js"></script>
  <script src="../assets/js/auth.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="../assets/js/admin/index.js"></script>
</body>
</html>
